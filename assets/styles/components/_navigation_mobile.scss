/****************************************
*										*
*		Opened navigation				*
*										*
****************************************/

.menu__mobile {
	float: none;
	position: absolute;
	left: 0;
	top: 0;
	width: 100%;
	height: 100%;
	min-height: 100vh;
	margin: 0;
	background: $white;
	visibility: hidden;
	opacity: 0;
	z-index: 10;
	box-sizing: border-box;
	@include transition( opacity, $cubic-transition-fast );
	@include flex-align( center, top );
	ul.menu {
		list-style-type: none;
		&:not(.submenu) {
			padding: $global-padding * 2 0;
			@include xy-cell(75%);
		}
		li {
			opacity: 0;
			@include transform( translateY(20px) );
			@include transition( (translate, opacity), $cubic-transition );
			a {
				font-size: $lead-font-size;
				font-weight: $subheader-font-weight;
				color: $body-font-color;
				text-transform: uppercase;
				@include transition( color $cubic-transition );
			}
			&.current-menu-item,
			&:hover, &:focus {
				> a {
					color: $primary-color;
				}
			}
		}
		@for $n from 1 through 10 {
			li:nth-child(#{$n}) {
				@include transition-delay(#{$n*0.1}s);
			}
		}
		&.submenu {
			li {
				a {
					font-size: $global-font-size;
				}
			}
		}
	}
	&--container {
		position: relative;
	}
}

body.open-menu {
	overflow: hidden!important;
	.hamburger {
		.bar-top {
			@include transform( rotate(-45deg) );
		}
		.bar-middle {
			@include opacity(0);
		}
		.bar-bottom {
			@include transform( rotate(45deg) );
		}
	}
	.menu__mobile {
		visibility: visible;
		opacity: 1;
		ul.menu {
			li {
				opacity: 1;
				@include transform( translateY(0) );
			}
		}
	}
}